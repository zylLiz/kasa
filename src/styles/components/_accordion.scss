@use "../variables" as v;

/* même fichier que le carrousel, chemin relatif depuis _accordion.scss */
$chev: url("../../assets/chevron_carrousel.svg");

.acc {
  /* option : pour gérer un petit spacing vertical entre accordéons */
  margin-block: 8px;
}

.acc__btn{
  /* style bouton maquette */
  width: 100%;
  height: 52px;
  border: 0;
  border-radius: 8px;
  background: v.$red;          /* barre rouge Figma */
  color: #fff;
  display: grid;
  align-items: center;
  grid-template-columns: 1fr auto; /* titre à gauche, icône à droite */
  gap: 12px;
  padding: 0 16px;
  cursor: pointer;

  /* neutraliser les styles natifs */
  appearance: none;
  -webkit-appearance: none;

  /* focus clavier propre, sans halo au clic */
  &:focus { outline: none; }
  &:focus-visible {
    outline: 2px solid #fff;   /* repère clavier discret */
    outline-offset: 2px;
  }
}

.acc__title{
  font: 600 16px/1 "Montserrat", sans-serif;
}

.acc__icon{
  width: 32px;
  height: 32px;
  background: #fff;                           /* la flèche sera blanche */
  -webkit-mask: $chev center / contain no-repeat;
  mask: $chev center / contain no-repeat;

  /* Le SVG d’origine pointe vers la DROITE.
     Fermé = flèche vers le HAUT (rotate 90deg)
     Ouvert = flèche vers le BAS (rotate -90deg)
  */
  transform: rotate(-90deg);
  transition: transform .2s ease;
}

/* Quand c'est ouvert, on pivote en bas */
.is-open .acc__icon{
  transform: rotate(90deg);
}

/* Contenu de l’accordéon */
.acc__panel{
  background: #fff;
  border-radius: 0 0 8px 8px;
  padding: 16px;
  color: #111;
}

/* Mobile */
@media (max-width: 768px){
  /* Bouton de l’accordéon */
  .acc__btn{
    /* on neutralise la grille desktop */
    display: grid;
    height: 32px;
    padding: 0px 12px;      /* on réserve la place du chevron à droite */
    grid-template-columns: 1fr 24px; /* titre à gauche, chevron à droite */
    align-items: center;
    text-align: left;      
    position: relative;
  }

  .acc__title{
    font: 600 12px/1 "Montserrat", sans-serif; /* plus petit en mobile */
  }

  /* Chevron : fixé à droite, centré verticalement */
  .acc__icon{
    position: static; /* on sort du flux normal */
    width: 24px;
    height: 24px;
    transform: rotate(-90deg);       /* fermé = vers le haut */
  }
  .is-open .acc__icon{
    transform: rotate(90deg);        /* ouvert = vers le bas */
  }

  /* Panneau */
  .acc__panel{
    font-size: 14px;
    line-height: 1.45;
    padding: 12px;
    text-align: left;        /* contenu à gauche (comme la maquette) */
  }
}